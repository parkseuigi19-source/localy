[landmark_tools_guide.md](https://github.com/user-attachments/files/24213965/landmark_tools_guide.md)
# ê´€ê´‘ì§€ ì—ì´ì „íŠ¸ íˆ´ ê°€ì´ë“œ

## ğŸ“‹ ê°œìš”

ê´€ê´‘ì§€ ì—ì´ì „íŠ¸ëŠ” **ì˜¬ì¸ì› íŠ¸ë˜ë¸” ê°€ì´ë“œ** ì‹œìŠ¤í…œì˜ í•µì‹¬ ì—ì´ì „íŠ¸ë¡œ, ì‚¬ìš©ìì—ê²Œ ìµœê³ ì˜ ê´€ê´‘ì§€, í…Œë§ˆíŒŒí¬, ë°•ë¬¼ê´€ ë“±ì„ ì¶”ì²œí•˜ê³  ìƒì„¸ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

ê´€ê´‘ì§€ ì—ì´ì „íŠ¸ëŠ” ì´ **5ê°œì˜ LangChain íˆ´**ì„ ì œê³µí•©ë‹ˆë‹¤:

1. **ì¥ì†Œ ê²€ìƒ‰** (`search_places_tool`)
2. **ì¥ì†Œ ìƒì„¸ ì •ë³´** (`get_landmark_detail_tool`)
3. **ì£¼ë³€ ê´€ê´‘ì§€ ì°¾ê¸°** (`find_nearby_landmarks_tool`)
4. **ê³„ì ˆë³„ ì¶”ì²œ** (`recommend_by_season_tool`)
5. **ì‹œê°„ëŒ€ë³„ ì¶”ì²œ** (`recommend_by_time_tool`)

---

## ğŸ”§ íˆ´ ìƒì„¸ ì„¤ëª…

### 1ï¸âƒ£ ì¥ì†Œ ê²€ìƒ‰ (`search_places_tool`)

**ëª©ì **: ì§€ì—­ê³¼ ì¹´í…Œê³ ë¦¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê´€ê´‘ì§€ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤.

#### íŒŒë¼ë¯¸í„°

| íŒŒë¼ë¯¸í„° | íƒ€ì… | í•„ìˆ˜ | ì„¤ëª… |
|---------|------|------|------|
| `region` | `str` | âœ… | ê²€ìƒ‰í•  ì§€ì—­ (ì˜ˆ: "ì„œìš¸", "ì œì£¼", "ë¶€ì‚°") |
| `category` | `str` | âœ… | ê´€ê´‘ì§€ ì¹´í…Œê³ ë¦¬ (ì•„ë˜ ì¹´í…Œê³ ë¦¬ ëª©ë¡ ì°¸ì¡°) |
| `preference` | `str` | âŒ | ì¶”ê°€ ì„ í˜¸ë„ í‚¤ì›Œë“œ (ì˜ˆ: "ê°€ì¡±", "ë°ì´íŠ¸") |

#### ì§€ì› ì¹´í…Œê³ ë¦¬

- **ë°•ë¬¼ê´€**: ë°•ë¬¼ê´€, ë®¤ì§€ì—„, ì „ì‹œ
- **ë¯¸ìˆ ê´€**: ë¯¸ìˆ ê´€, ê°¤ëŸ¬ë¦¬, ì•„íŠ¸
- **í…Œë§ˆíŒŒí¬**: í…Œë§ˆíŒŒí¬, ë†€ì´ê³µì›, ì›”ë“œ, ëœë“œ
- **ì•„ì¿ ì•„ë¦¬ì›€**: ì•„ì¿ ì•„ë¦¬ì›€, ìˆ˜ì¡±ê´€
- **ë¬¸í™”ì¬**: ë¬¸í™”ì¬, ê³ ê¶, ìœ ì , ë¬¸í™” ìœ ì‚°, ì‚¬ì 
- **ìì—°**: ìì—°, ê³µì›, ì‚°, ë°”ë‹¤, ê°•, í˜¸ìˆ˜, ìˆ², í•´ë³€, ê³„ê³¡
- **ì•¼ê²½**: ì•¼ê²½, ë°¤
- **ì‹¤ë‚´**: ì‹¤ë‚´, ë¹„ì˜¤ëŠ”, ë¹„ ì˜¤ëŠ”

#### ë°˜í™˜ ë°ì´í„°

```python
{
    "success": True,
    "agent_name": "landmark",
    "data": [
        {
            "place_id": "ChIJ...",
            "name": "ê²½ë³µê¶",
            "category": "ë¬¸í™”ì¬",
            "address": "ì„œìš¸íŠ¹ë³„ì‹œ ì¢…ë¡œêµ¬ ì‚¬ì§ë¡œ 161",
            "latitude": 37.5796,
            "longitude": 126.9770,
            "region": "ì„œìš¸",
            "rating": 4.5,
            "review_count": 15234,
            "price_level": 1,
            "opening_hours": ["ì›”ìš”ì¼: 09:00~18:00", ...],
            "open_now": True,
            "phone": "02-3700-3900",
            "website": "https://www.royalpalace.go.kr",
            "google_maps_url": "https://www.google.com/maps/place/?q=place_id:ChIJ..."
        },
        ...
    ],
    "count": 10,
    "message": "ì„œìš¸ ê´€ê´‘ì§€ 10ê³³ì„ ì°¾ì•˜ìŠµë‹ˆë‹¤!"
}
```

#### íŠ¹ì§•

- **í•„í„°ë§**: ë¦¬ë·° 50ê°œ ì´ìƒì¸ ì¥ì†Œë§Œ ë°˜í™˜
- **ì •ë ¬**: ë¦¬ë·° ìˆ˜ì™€ í‰ì  ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬
- **ì œí•œ**: ìƒìœ„ 10ê°œ ê²°ê³¼ë§Œ ë°˜í™˜
- **ì¤‘ë³µ ì œê±°**: ì—¬ëŸ¬ íƒ€ì… ê²€ìƒ‰ ì‹œ ì¤‘ë³µ ì œê±°

#### ì‚¬ìš© ì˜ˆì‹œ

```python
from tools.landmark_tool import search_places_tool

# ì„œìš¸ ë°•ë¬¼ê´€ ê²€ìƒ‰
result = search_places_tool.invoke({
    "region": "ì„œìš¸",
    "category": "ë°•ë¬¼ê´€",
    "preference": "ì—­ì‚¬"
})

# ì œì£¼ ìì—° ê´€ê´‘ì§€ ê²€ìƒ‰
result = search_places_tool.invoke({
    "region": "ì œì£¼",
    "category": "ìì—°"
})
```

---

### 2ï¸âƒ£ ì¥ì†Œ ìƒì„¸ ì •ë³´ (`get_landmark_detail_tool`)

**ëª©ì **: íŠ¹ì • ê´€ê´‘ì§€ì˜ ìƒì„¸ ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.

#### íŒŒë¼ë¯¸í„°

| íŒŒë¼ë¯¸í„° | íƒ€ì… | í•„ìˆ˜ | ì„¤ëª… |
|---------|------|------|------|
| `place_id` | `str` | âœ… | Google Places APIì˜ place_id (ê²€ìƒ‰ ê²°ê³¼ì—ì„œ íšë“) |

#### ë°˜í™˜ ë°ì´í„° í¬í•¨ í•­ëª©

##### ğŸ“Œ ê¸°ë³¸ ì •ë³´
- ì´ë¦„, ì£¼ì†Œ, ì „í™”ë²ˆí˜¸, ì›¹ì‚¬ì´íŠ¸, ì„¤ëª…

##### ğŸ•’ ìš´ì˜ ì •ë³´
- ì˜ì—…ì‹œê°„ (ìš”ì¼ë³„)
- í˜„ì¬ ì˜ì—… ì—¬ë¶€ (`open_now`)

##### ğŸ« ì…ì¥ ì •ë³´
- í‹°ì¼“ ê°€ê²©/ë¬´ë£Œ ì—¬ë¶€ (`ticket_info`)
  - `price_level` ê¸°ë°˜ ì¶”ì •:
    - 0: "ë¬´ë£Œ ì…ì¥ ê°€ëŠ¥ì„± ë†’ìŒ"
    - 1: "ì €ë ´ (ì•½ 1ë§Œì› ì´í•˜)"
    - 2: "ë³´í†µ (ì•½ 1~3ë§Œì›)"
    - 3+: "ë‹¤ì†Œ ë¹„ìŒˆ (3ë§Œì› ì´ìƒ)"

##### ğŸ¢ í¸ì˜ì‹œì„¤ (`amenities`)
- ì£¼ì°¨ì¥, í™”ì¥ì‹¤, ì‹ìŒë£Œ ì‹œì„¤, ê¸°ë…í’ˆìƒµ ë“±

##### â™¿ ì ‘ê·¼ì„± (`accessibility`)
- íœ ì²´ì–´ ì…êµ¬ ì´ìš© ê°€ëŠ¥ ì—¬ë¶€

##### ğŸ“ ì¶”ê°€ ì •ë³´
- ë¦¬ë·° ìš”ì•½ (ìµœëŒ€ 5ê°œ)
- í‰ì  ë° ë¦¬ë·° ìˆ˜

##### ğŸ¯ ê°€ì´ë“œ íˆ¬ì–´ ì •ë³´ (`guide_tours`)
- ì¹´í…Œê³ ë¦¬ë³„ ë§ì¶¤ íˆ¬ì–´ ì •ë³´:
  - **ë°•ë¬¼ê´€**: ë„ìŠ¨íŠ¸ í•´ì„¤ íˆ¬ì–´
  - **ë¯¸ìˆ ê´€**: íë ˆì´í„° íˆ¬ì–´
  - **í…Œë§ˆíŒŒí¬**: ê°€ì´ë“œ íˆ¬ì–´ í”„ë¡œê·¸ë¨
  - **ë¬¸í™”ì¬**: ë¬¸í™”ì¬ í•´ì„¤ì‚¬ íˆ¬ì–´
  - **ìì—°**: ìƒíƒœ í•´ì„¤ í”„ë¡œê·¸ë¨

##### ğŸ‘¥ í˜¼ì¡ë„ ì •ë³´ (`crowdedness_info`)
- ë¦¬ë·° ê¸°ë°˜ í˜¼ì¡ë„ ë¶„ì„:
  - "ë§¤ìš° í˜¼ì¡", "í˜¼ì¡", "ë³´í†µ", "í•œì‚°"
- ë¦¬ë·° ìˆ˜ ê¸°ë°˜ ì¶”ì • (ë¦¬ë·° ë¶„ì„ ë¶ˆê°€ ì‹œ)

#### ë°˜í™˜ ë°ì´í„° ì˜ˆì‹œ

```python
{
    "success": True,
    "agent_name": "landmark_detail",
    "data": [
        {
            "place_id": "ChIJ...",
            "name": "êµ­ë¦½ì¤‘ì•™ë°•ë¬¼ê´€",
            "category": "ë°•ë¬¼ê´€",
            "address": "ì„œìš¸íŠ¹ë³„ì‹œ ìš©ì‚°êµ¬ ì„œë¹™ê³ ë¡œ 137",
            "rating": 4.6,
            "review_count": 23456,
            "ticket_info": "ë¬´ë£Œ ì…ì¥ ê°€ëŠ¥ì„± ë†’ìŒ",
            "amenities": ["ì£¼ì°¨ì¥", "í™”ì¥ì‹¤", "ì‹ìŒë£Œ ì‹œì„¤", "ê¸°ë…í’ˆìƒµ/ìƒì "],
            "accessibility": ["íœ ì²´ì–´ ì…êµ¬ ì´ìš© ê°€ëŠ¥"],
            "recent_reviews": [
                "ì •ë§ ë³¼ê±°ë¦¬ê°€ ë§ì•„ìš”...",
                "ê°€ì¡±ê³¼ í•¨ê»˜ ë°©ë¬¸í•˜ê¸° ì¢‹ìŠµë‹ˆë‹¤..."
            ],
            "crowdedness_info": "ë³´í†µ í˜¼ì¡ë„ ì˜ˆìƒ",
            "guide_tours": [
                {
                    "name": "ë„ìŠ¨íŠ¸ í•´ì„¤ íˆ¬ì–´",
                    "description": "ì „ë¬¸ ë„ìŠ¨íŠ¸ê°€ ì£¼ìš” ì „ì‹œë¬¼ì„ ì„¤ëª…í•´ì£¼ëŠ” ë¬´ë£Œ/ìœ ë£Œ í•´ì„¤ í”„ë¡œê·¸ë¨",
                    "price": "ë¬´ë£Œ ë˜ëŠ” ë³„ë„ ìš”ê¸ˆ",
                    "note": "í˜„ì¥ ë¬¸ì˜ ë˜ëŠ” í™ˆí˜ì´ì§€ ì˜ˆì•½ í•„ìš”"
                }
            ],
            ...
        }
    ],
    "count": 1,
    "message": "êµ­ë¦½ì¤‘ì•™ë°•ë¬¼ê´€ ìƒì„¸ ì •ë³´ë¥¼ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤."
}
```

#### ì‚¬ìš© ì˜ˆì‹œ

```python
from tools.landmark_tool import get_landmark_detail_tool

# place_idëŠ” ê²€ìƒ‰ ê²°ê³¼ì—ì„œ íšë“
result = get_landmark_detail_tool.invoke({
    "place_id": "ChIJa76xwh5fGGARW23L6fG6lWs"
})
```

---

### 3ï¸âƒ£ ì£¼ë³€ ê´€ê´‘ì§€ ì°¾ê¸° (`find_nearby_landmarks_tool`)

**ëª©ì **: íŠ¹ì • ê´€ê´‘ì§€ ì£¼ë³€ì˜ ë‹¤ë¥¸ ê´€ê´‘ì§€ë¥¼ ì°¾ìŠµë‹ˆë‹¤.

#### íŒŒë¼ë¯¸í„°

| íŒŒë¼ë¯¸í„° | íƒ€ì… | í•„ìˆ˜ | ê¸°ë³¸ê°’ | ì„¤ëª… |
|---------|------|------|--------|------|
| `place_id` | `str` | âœ… | - | ê¸°ì¤€ ì¥ì†Œì˜ place_id |
| `radius` | `int` | âŒ | 2000 | ê²€ìƒ‰ ë°˜ê²½ (ë¯¸í„° ë‹¨ìœ„, 2000m = 2km) |
| `limit` | `int` | âŒ | 5 | ìµœëŒ€ ê²°ê³¼ ê°œìˆ˜ |

#### ë°˜í™˜ ë°ì´í„°

- ì£¼ë³€ ê´€ê´‘ì§€ ë¦¬ìŠ¤íŠ¸ (ê±°ë¦¬ìˆœ ì •ë ¬)
- ê° ì¥ì†Œì˜ ê¸°ë³¸ ì •ë³´ (ì´ë¦„, í‰ì , ì£¼ì†Œ ë“±)
- `description` í•„ë“œì— ê¸°ì¤€ ì¥ì†Œë¡œë¶€í„°ì˜ ê±°ë¦¬ í¬í•¨ (ì˜ˆ: "ê²½ë³µê¶ì—ì„œ 1.2km ê±°ë¦¬")

#### íŠ¹ì§•

- **í•„í„°ë§**: ë¦¬ë·° 50ê°œ ì´ìƒì¸ ì¥ì†Œë§Œ ë°˜í™˜
- **ì •ë ¬**: ê±°ë¦¬ìˆœ ì •ë ¬
- **ê±°ë¦¬ ê³„ì‚°**: Haversine ê³µì‹ ì‚¬ìš©

#### ì‚¬ìš© ì˜ˆì‹œ

```python
from tools.landmark_tool import find_nearby_landmarks_tool

# ê²½ë³µê¶ ì£¼ë³€ ê´€ê´‘ì§€ ì°¾ê¸°
result = find_nearby_landmarks_tool.invoke({
    "place_id": "ChIJa76xwh5fGGARW23L6fG6lWs",
    "radius": 3000,  # 3km
    "limit": 10
})
```

#### í™œìš© ì˜ˆì‹œ

> "ê²½ë³µê¶ ê·¼ì²˜ì— ë‹¤ë¥¸ ë³¼ê±°ë¦¬ ìˆë‚˜ìš”?"

---

### 4ï¸âƒ£ ê³„ì ˆë³„ ì¶”ì²œ (`recommend_by_season_tool`)

**ëª©ì **: ê³„ì ˆì— ë§ëŠ” ê´€ê´‘ì§€ë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤.

#### íŒŒë¼ë¯¸í„°

| íŒŒë¼ë¯¸í„° | íƒ€ì… | í•„ìˆ˜ | ì„¤ëª… |
|---------|------|------|------|
| `region` | `str` | âœ… | ê²€ìƒ‰ ì§€ì—­ |
| `season` | `str` | âœ… | ê³„ì ˆ (ë´„, ì—¬ë¦„, ê°€ì„, ê²¨ìš¸) |

#### ê³„ì ˆë³„ ì¶”ì²œ ë¡œì§

| ê³„ì ˆ | ì¹´í…Œê³ ë¦¬ | í‚¤ì›Œë“œ | ì¶”ì²œ ì¥ì†Œ |
|------|----------|--------|-----------|
| ğŸŒ¸ **ë´„** | ìì—° | ë²šê½ƒ | ë²šê½ƒ/ê½ƒ ëª…ì†Œ, ê³µì› |
| ğŸŒŠ **ì—¬ë¦„** | ìì—° | í•´ìˆ˜ìš•ì¥ | í•´ë³€, ì›Œí„°íŒŒí¬, ê³„ê³¡ |
| ğŸ‚ **ê°€ì„** | ìì—° | ë‹¨í’ | ë‹¨í’ ëª…ì†Œ, ì‚°, ê³µì› |
| â„ï¸ **ê²¨ìš¸** | ì‹¤ë‚´ | ìŠ¤í‚¤ | ì‹¤ë‚´ ê´€ê´‘ì§€, ìŠ¤í‚¤ì¥ |

#### ì‚¬ìš© ì˜ˆì‹œ

```python
from tools.landmark_tool import recommend_by_season_tool

# ì œì£¼ë„ ë´„ ì¶”ì²œ
result = recommend_by_season_tool.invoke({
    "region": "ì œì£¼",
    "season": "ë´„"
})
```

#### í™œìš© ì˜ˆì‹œ

> "ì œì£¼ë„ ë´„ì— ê°€ë©´ ì¢‹ì€ ê³³ ì¶”ì²œí•´ì¤˜"

---

### 5ï¸âƒ£ ì‹œê°„ëŒ€ë³„ ì¶”ì²œ (`recommend_by_time_tool`)

**ëª©ì **: ì‹œê°„ëŒ€ì— ë§ëŠ” ê´€ê´‘ì§€ë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤.

#### íŒŒë¼ë¯¸í„°

| íŒŒë¼ë¯¸í„° | íƒ€ì… | í•„ìˆ˜ | ì„¤ëª… |
|---------|------|------|------|
| `region` | `str` | âœ… | ê²€ìƒ‰ ì§€ì—­ |
| `time_of_day` | `str` | âœ… | ì‹œê°„ëŒ€ (ì•„ì¹¨, ì˜¤í›„, ì €ë…, ë°¤) |

#### ì‹œê°„ëŒ€ë³„ ì¶”ì²œ ë¡œì§

| ì‹œê°„ëŒ€ | ì¹´í…Œê³ ë¦¬ | í‚¤ì›Œë“œ | ì¶”ì²œ ì¥ì†Œ |
|--------|----------|--------|-----------|
| ğŸŒ… **ì•„ì¹¨** | ìì—° | ì¼ì¶œ | ì¼ì¶œ ëª…ì†Œ, ê³µì›, ì‚°ì±…ë¡œ |
| â˜€ï¸ **ì˜¤í›„** | ì „ì²´ | - | ë°•ë¬¼ê´€, í…Œë§ˆíŒŒí¬, ë‹¤ì–‘í•œ ê´€ê´‘ì§€ |
| ğŸŒ† **ì €ë…** | ì•¼ê²½ | ì„ì–‘ | ì•¼ê²½ ëª…ì†Œ, ì„ì–‘ ëª…ì†Œ |
| ğŸŒƒ **ë°¤** | ì•¼ê²½ | ì•¼ì‹œì¥ | ì•¼ê²½, ì•¼ì‹œì¥ |

#### ì‚¬ìš© ì˜ˆì‹œ

```python
from tools.landmark_tool import recommend_by_time_tool

# ë¶€ì‚° ì €ë… ì¶”ì²œ
result = recommend_by_time_tool.invoke({
    "region": "ë¶€ì‚°",
    "time_of_day": "ì €ë…"
})
```

#### í™œìš© ì˜ˆì‹œ

> "ë¶€ì‚° ì €ë…ì— ê°ˆë§Œí•œ ê³³ ì¶”ì²œí•´ì¤˜"

---

## ğŸ—ï¸ ì•„í‚¤í…ì²˜

### íŒŒì¼ êµ¬ì¡°

```
c:\AIX\ALLINONEGUIDE\
â”œâ”€â”€ agents/
â”‚   â””â”€â”€ landmark_agent.py          # í•µì‹¬ ë¡œì§ êµ¬í˜„
â”œâ”€â”€ tools/
â”‚   â””â”€â”€ landmark_tool.py           # LangChain íˆ´ ë˜í¼
â””â”€â”€ schemas/
    â””â”€â”€ data_models.py             # ë°ì´í„° ëª¨ë¸ ì •ì˜
```

### ë°ì´í„° íë¦„

```mermaid
graph LR
    A[ì‚¬ìš©ì ìš”ì²­] --> B[LangChain Tool]
    B --> C[landmark_agent.py í•¨ìˆ˜]
    C --> D[Google Places API]
    D --> E[ë°ì´í„° ì²˜ë¦¬ & í•„í„°ë§]
    E --> F[PlaceData ëª¨ë¸ ë³€í™˜]
    F --> G[AgentResponse ë°˜í™˜]
    G --> H[ì‚¬ìš©ìì—ê²Œ ì‘ë‹µ]
```

### ì£¼ìš” ì»´í¬ë„ŒíŠ¸

#### 1. **landmark_agent.py**

í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ êµ¬í˜„í•©ë‹ˆë‹¤:

- `search_landmarks()`: ê´€ê´‘ì§€ ê²€ìƒ‰
- `get_landmark_detail()`: ìƒì„¸ ì •ë³´ ì¡°íšŒ
- `find_nearby_landmarks()`: ì£¼ë³€ ê´€ê´‘ì§€ ê²€ìƒ‰
- `recommend_by_season()`: ê³„ì ˆë³„ ì¶”ì²œ
- `recommend_by_time()`: ì‹œê°„ëŒ€ë³„ ì¶”ì²œ

#### 2. **landmark_tool.py**

LangChain íˆ´ë¡œ ë˜í•‘í•©ë‹ˆë‹¤:

- `@tool` ë°ì½”ë ˆì´í„° ì‚¬ìš©
- í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ì™€ docstring ì •ì˜
- `landmark_agent.py` í•¨ìˆ˜ í˜¸ì¶œ ë° ê²°ê³¼ ë°˜í™˜

#### 3. **data_models.py**

Pydantic ëª¨ë¸ ì •ì˜:

- `PlaceData`: ì¥ì†Œ ë°ì´í„° ìŠ¤í‚¤ë§ˆ
- `AgentResponse`: ì—ì´ì „íŠ¸ ì‘ë‹µ ìŠ¤í‚¤ë§ˆ
- `TravelState`: ì—¬í–‰ ìƒíƒœ ê´€ë¦¬ ìŠ¤í‚¤ë§ˆ

---

## ğŸ”‘ API í‚¤ ì„¤ì •

### í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜

```bash
# .env íŒŒì¼
GOOGLE_PLACES_API_KEY=your_google_places_api_key_here
```

### Google Places API í™œì„±í™”

1. [Google Cloud Console](https://console.cloud.google.com/) ì ‘ì†
2. í”„ë¡œì íŠ¸ ìƒì„± ë˜ëŠ” ì„ íƒ
3. **Places API** í™œì„±í™”
4. API í‚¤ ìƒì„±
5. `.env` íŒŒì¼ì— ì¶”ê°€

---

## ğŸ“Š ë°ì´í„° ëª¨ë¸

### PlaceData

```python
class PlaceData(BaseModel):
    place_id: str                          # Google Places ID
    name: str                              # ì¥ì†Œ ì´ë¦„
    category: str                          # ì¹´í…Œê³ ë¦¬
    address: str                           # ì£¼ì†Œ
    latitude: float                        # ìœ„ë„
    longitude: float                       # ê²½ë„
    region: str                            # ì§€ì—­
    rating: float                          # í‰ì  (0.0~5.0)
    review_count: int                      # ë¦¬ë·° ìˆ˜
    price_level: int                       # ê°€ê²© ìˆ˜ì¤€ (0~4)
    opening_hours: List[str]               # ì˜ì—…ì‹œê°„
    open_now: Optional[bool]               # í˜„ì¬ ì˜ì—… ì—¬ë¶€
    phone: Optional[str]                   # ì „í™”ë²ˆí˜¸
    website: Optional[str]                 # ì›¹ì‚¬ì´íŠ¸
    google_maps_url: str                   # Google Maps ë§í¬
    
    # ìƒì„¸ ì •ë³´ (get_landmark_detailì—ì„œë§Œ)
    editorial_summary: Optional[str]       # ì„¤ëª…
    recent_reviews: List[str]              # ìµœê·¼ ë¦¬ë·°
    amenities: List[str]                   # í¸ì˜ì‹œì„¤
    accessibility: List[str]               # ì ‘ê·¼ì„±
    ticket_info: Optional[str]             # ì…ì¥ë£Œ ì •ë³´
    crowdedness_info: Optional[str]        # í˜¼ì¡ë„ ì •ë³´
    best_time_to_visit: Optional[str]      # ë°©ë¬¸ ì¶”ì²œ ì‹œê°„
    guide_tours: List[Dict]                # ê°€ì´ë“œ íˆ¬ì–´ ì •ë³´
```

### AgentResponse

```python
class AgentResponse(BaseModel):
    success: bool                          # ì„±ê³µ ì—¬ë¶€
    agent_name: str                        # ì—ì´ì „íŠ¸ ì´ë¦„
    data: List[Dict]                       # ê²°ê³¼ ë°ì´í„°
    count: int                             # ê²°ê³¼ ê°œìˆ˜
    message: str                           # ì‘ë‹µ ë©”ì‹œì§€
    error: Optional[str]                   # ì—ëŸ¬ ë©”ì‹œì§€
```

---

## ğŸ¨ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ì„œìš¸ ë°•ë¬¼ê´€ ê²€ìƒ‰ ë° ìƒì„¸ ì •ë³´ ì¡°íšŒ

```python
from tools.landmark_tool import search_places_tool, get_landmark_detail_tool

# 1. ì„œìš¸ ë°•ë¬¼ê´€ ê²€ìƒ‰
search_result = search_places_tool.invoke({
    "region": "ì„œìš¸",
    "category": "ë°•ë¬¼ê´€"
})

# 2. ì²« ë²ˆì§¸ ê²°ê³¼ì˜ ìƒì„¸ ì •ë³´ ì¡°íšŒ
if search_result['success']:
    first_place_id = search_result['data'][0]['place_id']
    
    detail_result = get_landmark_detail_tool.invoke({
        "place_id": first_place_id
    })
    
    print(detail_result['data'][0]['name'])
    print(detail_result['data'][0]['ticket_info'])
    print(detail_result['data'][0]['guide_tours'])
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: ê²½ë³µê¶ ì£¼ë³€ ê´€ê´‘ì§€ íƒìƒ‰

```python
from tools.landmark_tool import search_places_tool, find_nearby_landmarks_tool

# 1. ê²½ë³µê¶ ê²€ìƒ‰
gyeongbok_result = search_places_tool.invoke({
    "region": "ì„œìš¸",
    "category": "ë¬¸í™”ì¬",
    "preference": "ê²½ë³µê¶"
})

# 2. ê²½ë³µê¶ ì£¼ë³€ ê´€ê´‘ì§€ ì°¾ê¸°
gyeongbok_id = gyeongbok_result['data'][0]['place_id']

nearby_result = find_nearby_landmarks_tool.invoke({
    "place_id": gyeongbok_id,
    "radius": 1000,  # 1km
    "limit": 5
})

for place in nearby_result['data']:
    print(f"{place['name']} - {place['description']}")
```

### ì‹œë‚˜ë¦¬ì˜¤ 3: ê³„ì ˆë³„ ì—¬í–‰ ê³„íš

```python
from tools.landmark_tool import recommend_by_season_tool

# ë´„ ì œì£¼ë„ ì—¬í–‰
spring_jeju = recommend_by_season_tool.invoke({
    "region": "ì œì£¼",
    "season": "ë´„"
})

# ê°€ì„ ê²½ì£¼ ì—¬í–‰
fall_gyeongju = recommend_by_season_tool.invoke({
    "region": "ê²½ì£¼",
    "season": "ê°€ì„"
})
```

---

## âš™ï¸ ê³ ê¸‰ ê¸°ëŠ¥

### 1. í•„í„°ë§ ë¡œì§

- **ë¦¬ë·° ìˆ˜ í•„í„°**: 50ê°œ ì´ìƒë§Œ ë°˜í™˜ (ì‹ ë¢°ë„ í™•ë³´)
- **ì¤‘ë³µ ì œê±°**: `place_id` ê¸°ë°˜ ì¤‘ë³µ ì œê±°
- **ì •ë ¬**: ë¦¬ë·° ìˆ˜ â†’ í‰ì  ìˆœ

### 2. ì¹´í…Œê³ ë¦¬ ë§¤í•‘

ì‚¬ìš©ì ì •ì˜ ì¹´í…Œê³ ë¦¬ë¥¼ Google Places API íƒ€ì…ìœ¼ë¡œ ë§¤í•‘:

```python
TOURIST_CATEGORIES = {
    "ë°•ë¬¼ê´€": ["ë°•ë¬¼ê´€", "ë®¤ì§€ì—„", "ì „ì‹œ"],
    "ë¯¸ìˆ ê´€": ["ë¯¸ìˆ ê´€", "ê°¤ëŸ¬ë¦¬", "ì•„íŠ¸"],
    "í…Œë§ˆíŒŒí¬": ["í…Œë§ˆíŒŒí¬", "ë†€ì´ê³µì›", "ì›”ë“œ", "ëœë“œ"],
    # ...
}
```

### 3. ë¦¬ë·° ê¸°ë°˜ ë¶„ì„

- **í˜¼ì¡ë„ ë¶„ì„**: ë¦¬ë·° í…ìŠ¤íŠ¸ì—ì„œ í‚¤ì›Œë“œ ì¶”ì¶œ
- **ê°€ì´ë“œ íˆ¬ì–´ ê°ì§€**: ë¦¬ë·°ì—ì„œ íˆ¬ì–´ ì–¸ê¸‰ í™•ì¸

### 4. ê±°ë¦¬ ê³„ì‚°

Haversine ê³µì‹ì„ ì‚¬ìš©í•œ ì •í™•í•œ ê±°ë¦¬ ê³„ì‚°:

```python
def calculate_distance(lat1, lon1, lat2, lon2):
    R = 6371000  # ì§€êµ¬ ë°˜ê²½ (ë¯¸í„°)
    # ... Haversine ê³µì‹ êµ¬í˜„
    return distance_in_meters
```

---

## ğŸ› ì—ëŸ¬ ì²˜ë¦¬

### ì¼ë°˜ì ì¸ ì—ëŸ¬ ì‹œë‚˜ë¦¬ì˜¤

1. **API í‚¤ ë¯¸ì„¤ì •**
   ```python
   {
       "success": False,
       "message": "Google Maps API Keyê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.",
       "error": "..."
   }
   ```

2. **ì§€ì—­ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ**
   ```python
   {
       "success": False,
       "message": "'ì•Œìˆ˜ì—†ëŠ”ì§€ì—­'ì„(ë¥¼) ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."
   }
   ```

3. **place_id ì˜¤ë¥˜**
   ```python
   {
       "success": False,
       "message": "ì¥ì†Œ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."
   }
   ```

### ì—ëŸ¬ ì²˜ë¦¬ ëª¨ë²” ì‚¬ë¡€

```python
result = search_places_tool.invoke({
    "region": "ì„œìš¸",
    "category": "ë°•ë¬¼ê´€"
})

if result['success']:
    # ì •ìƒ ì²˜ë¦¬
    for place in result['data']:
        print(place['name'])
else:
    # ì—ëŸ¬ ì²˜ë¦¬
    print(f"ì—ëŸ¬ ë°œìƒ: {result['message']}")
    if result.get('error'):
        print(f"ìƒì„¸: {result['error']}")
```

---

## ğŸ“ˆ ì„±ëŠ¥ ìµœì í™”

### 1. ë³‘ë ¬ ì²˜ë¦¬

ì—¬ëŸ¬ íƒ€ì… ê²€ìƒ‰ ì‹œ ìˆœì°¨ ì²˜ë¦¬ (API ì œí•œ ê³ ë ¤)

### 2. ìºì‹± ì „ëµ

- ê²€ìƒ‰ ê²°ê³¼ë¥¼ `TravelState`ì— ì €ì¥
- ì¤‘ë³µ API í˜¸ì¶œ ë°©ì§€

### 3. í•„ë“œ ì œí•œ

í•„ìš”í•œ í•„ë“œë§Œ ìš”ì²­í•˜ì—¬ API ë¹„ìš© ì ˆê°:

```python
gmaps.place(place_id, fields=[
    'name', 'formatted_address', 'geometry', 'rating'
])
```

---

## ğŸ”® í–¥í›„ ê°œì„  ê³„íš

- [ ] ì‹¤ì‹œê°„ í˜¼ì¡ë„ API ì—°ë™
- [ ] ì‚¬ìš©ì ë¦¬ë·° ê°ì„± ë¶„ì„
- [ ] ê°œì¸í™” ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜
- [ ] ë‹¤êµ­ì–´ ì§€ì› í™•ëŒ€
- [ ] ì˜¤í”„ë¼ì¸ ë°ì´í„° ìºì‹±

---

## ğŸ“ ë¬¸ì˜ ë° ì§€ì›

ë¬¸ì œê°€ ë°œìƒí•˜ê±°ë‚˜ ê°œì„  ì œì•ˆì´ ìˆìœ¼ì‹œë©´ ì´ìŠˆë¥¼ ë“±ë¡í•´ì£¼ì„¸ìš”.

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-12-09
